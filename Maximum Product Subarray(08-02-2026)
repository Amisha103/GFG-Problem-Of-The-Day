Maximum Product Subarray

Given an array arr[] that contains positive and negative integers (may contain 0 as well). Find the maximum product that we can get in a subarray of arr[].

Note: It is guaranteed that the answer fits in a 32-bit integer.

Examples

Input: arr[] = [-2, 6, -3, -10, 0, 2]
Output: 180
Explanation: The subarray with maximum product is [6, -3, -10] with product = 6 * (-3) * (-10) = 180.
Input: arr[] = [-1, -3, -10, 0, 6]
Output: 30
Explanation: The subarray with maximum product is [-3, -10] with product = (-3) * (-10) = 30.
Input: arr[] = [2, 3, 4] 
Output: 24 
Explanation: For an array with all positive elements, the result is product of all elements. 
Constraints:
1 ≤ arr.size() ≤ 106
-10  ≤  arr[i]  ≤  10

JAVA-
class Solution {
    int maxProduct(int[] arr) {
     int maxEnding = arr[0];
        int minEnding = arr[0];
        int ans = arr[0];

        for (int i = 1; i < arr.length; i++) {

           
            if (arr[i] < 0) {
                int temp = maxEnding;
                maxEnding = minEnding;
                minEnding = temp;
            }

            maxEnding = Math.max(arr[i], maxEnding * arr[i]);
            minEnding = Math.min(arr[i], minEnding * arr[i]);

            ans = Math.max(ans, maxEnding);
        }

        return ans;
    }
}

PYTHON-
class Solution:
	def maxProduct(self,arr):
		maxEnding = arr[0]
        minEnding = arr[0]
        ans = arr[0]

        for i in range(1, len(arr)):

            
            if arr[i] < 0:
                maxEnding, minEnding = minEnding, maxEnding

            maxEnding = max(arr[i], maxEnding * arr[i])
            minEnding = min(arr[i], minEnding * arr[i])

            ans = max(ans, maxEnding)

        return ans
